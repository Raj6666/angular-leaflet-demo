<!-- 2017-12-12 13:01:51 | 版权所有 合肥火星科技有限公司 http://www.marsgis.cn  【联系我们QQ：516584683】 -->
<!DOCTYPE html><html><head><title>Grid coordinates - Leaflet</title><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="shortcut icon" type="image/x-icon" href="docs/images/favicon.ico"><link rel="stylesheet" href="../../docs/lib/leaflet.css"><script src="../../docs/lib/leaflet.js"></script><style>#map{width:600px;height:400px}</style></head><body><div id="map"></div><style>#info{position:absolute;top:0;right:0;width:20em;height:7.5em;background:rgba(255,255,255,.5);z-index:500;font:12px Sans}.crsMarker{border-top:2px green solid;border-left:2px green solid}</style><div id="info"></div><script>function info(){var e=map.getPixelOrigin(),r=map.project(trd,map.getZoom()),o=marker.options.icon.options.iconAnchor,a=marker._icon._leaflet_pos;document.getElementById("info").innerHTML='<div style="color: green">CRS origin: 0,0</div><div style="color: red">px origin: &Delta;'+e.x+","+e.y+'</div><div style="color: blue">marker px coords:'+r.x.toFixed(2)+","+r.y.toFixed(2)+'</div><div style="color: blue">marker anchor: &Delta;'+o[0]+","+o[1]+'</div><div style="color: skyblue">marker pane offset: &Delta;'+a.x+","+a.y+"</div>",markerOffsetLine.setLatLngs([map.unproject(e),map.unproject(e.add(a))]),iconOffsetLine.setLatLngs([map.unproject(e.add(a)),map.unproject(e.add(a).subtract(o))])}var trd=[63.41,10.41],map=L.map("map",{center:[40,0],zoom:1}),positron=L.tileLayer("http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.jpg",{attribution:"CartoDB"}).addTo(map),marker=L.marker(trd).addTo(map),pane=map.getPane("markerPane"),paneCorner=document.createElement("div");paneCorner.style.width="12px",paneCorner.style.height="12px",paneCorner.style.borderTop="2px red solid",paneCorner.style.borderLeft="2px red solid",pane.appendChild(paneCorner),marker._icon.style.border="1px solid blue";var crsMarker=L.marker(map.unproject([0,0]),{icon:L.divIcon({className:"crsMarker",iconAnchor:[0,0]})}).addTo(map),markerOffsetLine=L.polyline([[0,0],[0,0]],{color:"skyblue"}).addTo(map),iconOffsetLine=L.polyline([[0,0],[0,0]],{color:"blue"}).addTo(map);map.on("load move moveend zoomend viewreset",info),info()</script></body></html>