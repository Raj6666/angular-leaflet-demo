<!-- 2017-12-12 13:01:50 | 版权所有 合肥火星科技有限公司 http://www.marsgis.cn  【联系我们QQ：516584683】 -->
<!DOCTYPE html><html><head><title>Leaflet Layers Control Example</title><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="../docs/lib/leaflet.css" tppabs="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css"><style>#map{width:800px;height:500px}.info{padding:6px 8px;font:14px/16px Arial,Helvetica,sans-serif;background:#fff;background:rgba(255,255,255,.8);box-shadow:0 0 15px rgba(0,0,0,.2);border-radius:5px}.info h4{margin:0 0 5px;color:#777}.legend{text-align:left;line-height:18px;color:#555}.legend i{width:18px;height:18px;float:left;margin-right:8px;opacity:.7}</style></head><body><div id="map"></div><script src="../docs/lib/leaflet.js" tppabs="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js"></script><script src="us-states.js" tppabs="http://www.marsgis.cn/examples/us-states.js"></script><script>function getColor(e){return e>1e3?"#800026":e>500?"#BD0026":e>200?"#E31A1C":e>100?"#FC4E2A":e>50?"#FD8D3C":e>20?"#FEB24C":e>10?"#FED976":"#FFEDA0"}function style(e){return{weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.7,fillColor:getColor(e.properties.density)}}function highlightFeature(e){var t=e.target;t.setStyle({weight:5,color:"#666",dashArray:"",fillOpacity:.7}),L.Browser.ie||L.Browser.opera||t.bringToFront(),info.update(t.feature.properties)}function resetHighlight(e){geojson.resetStyle(e.target),info.update()}function zoomToFeature(e){map.fitBounds(e.target.getBounds())}function onEachFeature(e,t){t.on({mouseover:highlightFeature,mouseout:resetHighlight,click:zoomToFeature})}var map=L.map("map").setView([37.8,-96],4);L.tileLayer("http://webrd01.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}").addTo(map);var info=L.control();info.onAdd=function(e){return this._div=L.DomUtil.create("div","info"),this.update(),this._div},info.update=function(e){this._div.innerHTML="<h4>US Population Density</h4>"+(e?"<b>"+e.name+"</b><br />"+e.density+" people / mi<sup>2</sup>":"Hover over a state")},info.addTo(map);var geojson;geojson=L.geoJson(statesData,{style:style,onEachFeature:onEachFeature}).addTo(map),map.attributionControl.addAttribution('Population data &copy; <a href="http://census.gov/">US Census Bureau</a>');var legend=L.control({position:"bottomright"});legend.onAdd=function(e){for(var t,o,i=L.DomUtil.create("div","info legend"),n=[0,10,20,50,100,200,500,1e3],a=[],r=0;r<n.length;r++)t=n[r],o=n[r+1],a.push('<i style="background:'+getColor(t+1)+'"></i> '+t+(o?"&ndash;"+o:"+"));return i.innerHTML=a.join("<br>"),i},legend.addTo(map)</script></body></html>